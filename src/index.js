/*******************************************************************************************************/
// Requerimos las dependencias //
/*******************************************************************************************************/
const express = require('express');
const http = require('http');
const { json, urlencoded } = require('express');
const { platform } = require('os');
const stripe = require('stripe');
const cors = require('cors');

/*******************************************************************************************************/
// Declaramos la variable de aplicaciÃ³n express //
/*******************************************************************************************************/
const app = express();

/*******************************************************************************************************/
// Middlewares de la aplicaciÃ³n //
/*******************************************************************************************************/
// Realiza un parse de los formatos aplication/json
app.use(json());
// Decodifica los datos enviados desde un formulario
app.use(urlencoded({ extended: false }));
// Permite acceder a recursos del servidor desde otros dominios
app.use('*', cors());

/*******************************************************************************************************/
// Creamos el Servidor HTTP //
/*******************************************************************************************************/
const server = http.createServer(app);

/*******************************************************************************************************/
// ParÃ¡metros del servidor //
/*******************************************************************************************************/
const appHost = "http://localhost";
const appPort = 4000;

/*******************************************************************************************************/
// Arrancamos el Servidor HTTP con Express //
/*******************************************************************************************************/
server.listen(appPort, () => {
	console.log('********************************************************************************');
		console.log(
			`ðŸš€ Servidor ${platform().toUpperCase()}, listo en: ${appHost}:${appPort}`
		);
	console.log('********************************************************************************');
});